# Ito Bootstrap Instructions

This is a minimal bootstrap preamble for {{ tool }}. For complete workflow instructions, use the artifact-specific commands below.

{% if tool == "codex" %}
## Tool Notes

Shell-first environment. Use standard Unix tools for file operations and direct git commands for version control. Skills are in `.codex/skills/`, prompts in `.codex/prompts/`.

{% elif tool == "github-copilot" %}
## Tool Notes

GitHub Copilot discovers instructions from `.github/copilot-instructions.md` and `.github/instructions/*.instructions.md` (with `applyTo` frontmatter for path scoping). Reusable prompts live in `.github/prompts/*.prompt.md`. Skills in `.github/skills/` are Ito-managed but not auto-discovered by Copilot â€” reference them explicitly when needed via file read.

Copilot CLI (`gh copilot`) has no project-level instruction discovery; it is stateless per invocation.

{% else %}
## Tool Notes

Prefer dedicated tools (Read, Write, Edit, Glob, Grep) over shell commands. Use Task to delegate independent subtasks to specialized agents.
{% if tool == "claude" %}
Skills are in `.claude/skills/`, commands in `.claude/commands/`.
{% elif tool == "opencode" %}
Skills are in `.opencode/skills/`, commands in `.opencode/commands/`.
{% endif %}

{% endif %}

## Retrieving Workflow Instructions

To get detailed instructions for working with an Ito change, use these commands:

### View Change Proposal
```bash
ito agent instruction proposal --change <change-id>
```
Shows the change proposal (why, what, impact).

### View Specifications
```bash
ito agent instruction specs --change <change-id>
```
Shows the specification deltas for the change.

### View Tasks
```bash
ito agent instruction tasks --change <change-id>
```
Shows the implementation task list.

### Apply Instructions
```bash
ito agent instruction apply --change <change-id>
```
Shows implementation instructions: context files, task tracking, and completion criteria.

### Review Instructions
```bash
ito agent instruction review --change <change-id>
```
Shows instructions for reviewing a completed change.

### Archive Instructions
```bash
ito agent instruction archive --change <change-id>
```
Shows instructions for archiving a completed change and updating main specs.

### Project Setup
```bash
ito agent instruction project-setup
```
Guides initial project setup: stack detection, dev commands (Makefile), and tooling preferences. No `--change` required.

## Audit Trail

Use `ito tasks` CLI commands for all task state changes (emits audit events automatically). Avoid editing `tasks.md` directly, but if you do, run `ito audit reconcile --fix` immediately after.

Key commands: `ito audit log`, `ito audit reconcile`, `ito audit validate`.

## Workflow Overview

1. **Proposal Phase**: Read proposal.md to understand the change
2. **Planning Phase**: Review specs/ deltas and tasks.md
3. **Implementation Phase**: Use `apply` instructions to execute tasks
4. **Review Phase**: Validate implementation against specs
5. **Archive Phase**: Integrate changes into main specs

All workflow content is centralized in the Ito CLI. Adapters should remain thin and delegate to these instruction artifacts.
